from telegram import Update, InlineKeyboardButton, InlineKeyboardMarkup
from telegram.ext import ApplicationBuilder, CommandHandler, CallbackQueryHandler, ContextTypes

async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    welcome_text = (
        "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –±–æ—Ç –æ–ª–∏–º–ø–∏–∞–¥—ã –í–æ–ª–≥–∞IT! üëã \n"
        "–Ø –º–æ–≥—É –ø–æ–º–æ—á—å –≤–∞–º —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± –æ–ª–∏–º–ø–∏–∞–¥–µ. \n–í—ã–±–µ—Ä–∏—Ç–µ, —á—Ç–æ –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç:"
    )
    keyboard = [
        [InlineKeyboardButton("üìå –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–µ –º–µ–Ω—é", callback_data='menu')],
        [InlineKeyboardButton("üìã –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è", callback_data='info')],
        [InlineKeyboardButton("üõ†Ô∏è –î–∏—Å—Ü–∏–ø–ª–∏–Ω—ã", callback_data='disciplines')],
        [InlineKeyboardButton("üìÖ –ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –æ–ª–∏–º–ø–∏–∞–¥—ã", callback_data='dates')],
        [InlineKeyboardButton("üìò –ü—Ä–∏–º–µ—Ä –∑–∞–¥–∞–Ω–∏–π –ø—Ä–æ—à–ª—ã—Ö –ª–µ—Ç", callback_data='examples')],
        [InlineKeyboardButton("üì∞ –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏", callback_data='news')],
    ]
    reply_markup = InlineKeyboardMarkup(keyboard)

    if update.message:
        await update.message.reply_text(welcome_text, reply_markup=reply_markup)
    elif update.callback_query:
        await update.callback_query.edit_message_text(welcome_text, reply_markup=reply_markup)

async def button_handler(update: Update, context: ContextTypes.DEFAULT_TYPE):
    query = update.callback_query
    await query.answer()

    if query.data == 'menu':
        menu_text = (
            "–ù–∞—à–∏ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏:\n"
            "‚Ä¢ [–°–∞–π—Ç –æ–ª–∏–º–ø–∏–∞–¥—ã](https://volga-it.org/)\n"
            "‚Ä¢ [–ì—Ä—É–ø–ø–∞ VK](https://vk.com/volgait)\n"
            "‚Ä¢ [Telegram-–∫–∞–Ω–∞–ª](https://t.me/volgait)"
        )
        keyboard = [[InlineKeyboardButton("–ù–∞–∑–∞–¥", callback_data='back')]]
        reply_markup = InlineKeyboardMarkup(keyboard)
        await query.edit_message_text(menu_text, parse_mode="Markdown", reply_markup=reply_markup)

    elif query.data == 'info':
        info_text = (
            "–í–æ–ª–≥–∞-IT ‚Äî —ç—Ç–æ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–∞—è —Ü–∏—Ñ—Ä–æ–≤–∞—è –æ–ª–∏–º–ø–∏–∞–¥–∞ –¥–ª—è —à–∫–æ–ª—å–Ω–∏–∫–æ–≤ –∏ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –≤ –≤–æ–∑—Ä–∞—Å—Ç–µ –æ—Ç 16 –¥–æ 23 –ª–µ—Ç. "
            "–ù–∞—à–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å ‚Äî –∑–∞–¥–∞–Ω–∏—è, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –∫–µ–π—Å–∞—Ö IT-–∫–æ–º–ø–∞–Ω–∏–π, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –∏–º –ø—Ä–∏—à–ª–æ—Å—å —Å—Ç–æ–ª–∫–Ω—É—Ç—å—Å—è. "
            "–ü–æ–ø—Ä–æ–±—É–π —Å–µ–±—è –≤ —Ä–µ—à–µ–Ω–∏–∏ —Ä–∞–±–æ—á–∏—Ö –∑–∞–¥–∞—á –∏ –Ω–∞–π–¥–∏ –∫–æ–º–ø–∞–Ω–∏—é –º–µ—á—Ç—ã!"
            "\n"
            "\n–ï—Å–ª–∏ —Ö–æ—á–µ—à—å –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ —Å –æ–ª–∏–º–ø–∏–∞–¥–æ–π, —Ç–æ –æ—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è  –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ [—Å—Å—ã–ª–∫–µ –Ω–∞ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—é](https://volga-it.org/wp-content/uploads/2024/09/–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è-–æ-XV-–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ–π-–æ–ª–∏–º–ø–∏–∞–¥–µ-–í–æ–ª–≥–∞-IT2024.pdf)."

        )
        keyboard = [[InlineKeyboardButton("–ù–∞–∑–∞–¥", callback_data='back')]]
        reply_markup = InlineKeyboardMarkup(keyboard)
        await query.edit_message_text(info_text, parse_mode="Markdown", reply_markup=reply_markup)

    elif query.data == 'disciplines':
        disciplines_text = (
            "–î–∏—Å—Ü–∏–ø–ª–∏–Ω—ã –æ–ª–∏–º–ø–∏–∞–¥—ã –í–æ–ª–≥–∞IT:\n"
            "‚Ä¢ 1–° –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ\n"
            "‚Ä¢ Backend-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞: Web API\n"
            "‚Ä¢ Web-–¥–∏–∑–∞–π–Ω\n"
            "‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (Java)\n"
            "‚Ä¢ –ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç –∏ –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö\n"
            "‚Ä¢ –ú–æ–±–∏–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Flutter\n"
            "‚Ä¢ –¢–µ–ª–µ–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å\n"
            "\n"
            "–ï—Å–ª–∏ —Ö–æ—á–µ—à—å —É–∑–Ω–∞—Ç—å –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ –ø—Ä–æ –∫–∞–∂–¥—É—é –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—É –∏ –æ —Ç–æ–º, –∫–∞–∫–∏–µ –Ω–∞–≤—ã–∫–∏ —Ç–µ–±–µ –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è, —Ç–æ [–Ω–∞–∂–∏–º–∞–π —Å—é–¥–∞](https://volga-it.org/disciplines/programming-1c-language/)."
        )
        keyboard = [[InlineKeyboardButton("–ù–∞–∑–∞–¥", callback_data='back')]]
        reply_markup = InlineKeyboardMarkup(keyboard)
        await query.edit_message_text(disciplines_text, parse_mode="Markdown", reply_markup=reply_markup)

    elif query.data == 'dates':
        dates_text = (
            "–û–ª–∏–º–ø–∏–∞–¥–∞ –í–æ–ª–≥–∞IT –ø—Ä–æ–≤–æ–¥–∏—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–∏–µ —ç—Ç–∞–ø—ã:\n"
            "\n"
            "‚Ä¢ 1 –≠—Ç–∞–ø: –ö–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—è\n" 
            "–î–∞—Ç—ã –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è: 05.09.2024 –ø–æ 28.10.2024\n"
            "–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ: –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–≤—à–∏–º—Å—è —É—á–∞—Å—Ç–Ω–∏–∫–∞–º –Ω—É–∂–Ω–æ –ø—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ. –ú–æ–∂–Ω–æ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–º –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞–º.\n"
            "\n"
            "‚Ä¢ 2 –≠—Ç–∞–ø: –ü–æ–ª—É—Ñ–∏–Ω–∞–ª\n"
            "–î–∞—Ç—ã –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è: 13.09.2024 –ø–æ 28.10.2024\n"
            "–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ: —ç—Ç–∞–ø –ø—Ä–æ—Ö–æ–¥–∏—Ç –≤ –æ–Ω–ª–∞–π–Ω-—Ñ–æ—Ä–º–∞—Ç–µ. –£—á–∞—Å—Ç–Ω–∏–∫–∏ —Ä–µ—à–∞—é—Ç –¥–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–µ.\n"
            "\n"
            "‚Ä¢ 3 –≠—Ç–∞–ø: –§–∏–Ω–∞–ª\n"
            "–î–∞—Ç—ã –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è: 25.11.2024 –ø–æ 29.11.2024\n"
            "–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ: —ç—Ç–∞–ø –ø—Ä–æ—Ö–æ–¥–∏—Ç –æ—á–Ω–æ –≤ –≥–æ—Ä–æ–¥–µ –£–ª—å—è–Ω–æ–≤—Å–∫. –£—á–∞—Å—Ç–Ω–∏–∫–∏ —Ä–µ—à–∞—é—Ç –∑–∞–¥–∞–Ω–∏–µ –ø–æ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞–º.\n"
        )
        keyboard = [[InlineKeyboardButton("–ù–∞–∑–∞–¥", callback_data='back')]]
        reply_markup = InlineKeyboardMarkup(keyboard)
        await query.edit_message_text(dates_text, reply_markup=reply_markup)

    elif query.data == 'examples':
        examples_text = (
            "–ü—Ä–∏–º–µ—Ä –∑–∞–¥–∞–Ω–∏–π –ø—Ä–æ—à–ª—ã—Ö –ª–µ—Ç –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ [—Å—Å—ã–ª–∫–µ](https://volga-it.org/past-tasks-and-solutions/)."
        )
        keyboard = [[InlineKeyboardButton("–ù–∞–∑–∞–¥", callback_data='back')]]
        reply_markup = InlineKeyboardMarkup(keyboard)
        await query.edit_message_text(examples_text, parse_mode="Markdown", reply_markup=reply_markup)

    elif query.data == 'news':
        news_text = (
            "–ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞ [–Ω–∞—à–µ–º —Å–∞–π—Ç–µ](https://volga-it.org/news/)."
        )
        keyboard = [[InlineKeyboardButton("–ù–∞–∑–∞–¥", callback_data='back')]]
        reply_markup = InlineKeyboardMarkup(keyboard)
        await query.edit_message_text(news_text, parse_mode="Markdown", reply_markup=reply_markup)

    elif query.data == 'back':
        await start(update, context)

def main():
    TOKEN = "8097088307:AAHJnxoTRVp0IO6EST1HVO4EQ8cAx1gt3K4"

    app = ApplicationBuilder().token(TOKEN).build()

    app.add_handler(CommandHandler("start", start))
    app.add_handler(CallbackQueryHandler(button_handler))

    app.run_polling()

if __name__ == "__main__":
    main()
